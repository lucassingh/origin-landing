"use client";

import { motion, AnimatePresence } from 'framer-motion';
import { useState, useEffect } from 'react';

export const LogoFooter: React.FC = () => {
    const [isVisible, setIsVisible] = useState(false);

    useEffect(() => {
        const handleScroll = () => {
            const scrollTop = window.scrollY || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight;
            const clientHeight = window.innerHeight;
            if (scrollTop + clientHeight >= scrollHeight - 100) {
                setIsVisible(true);
            } else if (scrollTop + clientHeight < scrollHeight - 500) {
                setIsVisible(false);
            }
        };

        window.addEventListener('scroll', handleScroll);
        handleScroll();

        return () => window.removeEventListener('scroll', handleScroll);
    }, []);

    const pathVariants = {
        hidden: {
            pathLength: 0,
            opacity: 0
        },
        visible: {
            pathLength: 1,
            opacity: 1,
            transition: {
                pathLength: {
                    duration: 2,
                    ease: "easeInOut"
                },
                opacity: {
                    duration: 0.5
                }
            }
        }
    };

    return (
        <div className="w-full max-w-2xl mx-auto">
            <AnimatePresence>
                {isVisible && (
                    <motion.svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="100%"
                        height="120"
                        fill="none"
                        viewBox="0 0 997 319"
                        className="w-full h-auto"
                        initial="hidden"
                        animate="visible"
                    >
                        {/* Path Ãºnico con el nuevo logo */}
                        <motion.path
                            stroke="#fff"
                            strokeWidth="1"
                            d="M968.004 112.138c8.556 0 15.318 2.613 20.142 7.944h-.001c4.927 5.312 7.33 12.651 7.33 21.884v71.708h-30.647v-63.369c0-6.039-.676-9.964-1.859-12.008-1.094-1.89-3.108-2.947-6.387-2.947-2.664 0-5.309.886-7.95 2.723l-.008.005c-2.485 1.694-5.12 4.244-7.903 7.686v67.91h-30.646v-98.272h26.856l.148.822 1.64 9.094c3.999-4.168 8.17-7.327 12.52-9.448 4.989-2.495 10.585-3.732 16.765-3.732ZM862.105 115.402v76.691h24.657v21.581h-82.498v-21.581h27.195v-55.111H805.17v-21.58zM843.881 65c5.181 0 9.491 1.65 12.841 4.993l.309.305c3.143 3.172 4.712 7.14 4.712 11.838 0 4.961-1.665 9.097-5.021 12.324-3.355 3.226-7.665 4.812-12.841 4.812s-9.538-1.587-13.007-4.8l-.014-.012-.014-.014c-3.337-3.337-5.007-7.462-5.007-12.31s1.671-8.922 5.021-12.143l.327-.307c3.414-3.134 7.669-4.686 12.694-4.686ZM780.183 100.694l6.527 21.031.272.879-.853.345c-5.701 2.302-13.684 3.56-23.893 3.825 4.506 2.421 8.025 5.214 10.516 8.397l.306.385c3.11 4.022 4.631 9.084 4.631 15.112 0 6.359-1.749 12.117-5.251 17.244l-.005.01c-3.502 5.002-8.428 8.916-14.732 11.759-6.316 2.849-13.592 4.259-21.805 4.259q-5.868 0-11.078-1.037c-.633.385-1.18.961-1.633 1.77a5.8 5.8 0 0 0-.612 2.618c0 1.513.532 2.662 1.589 3.544.56.36 1.463.683 2.792.909 1.346.229 3.053.349 5.135.349h15.955c7.363 0 13.908 1.227 19.616 3.709 5.698 2.477 10.145 5.906 13.288 10.307 3.146 4.404 4.719 9.383 4.719 14.904 0 10.387-4.598 18.491-13.689 24.225-8.937 5.834-21.915 8.685-38.801 8.685-12.019 0-21.581-1.273-28.629-3.87v-.001c-6.9-2.465-11.891-6.022-14.826-10.744l-.006-.007-.005-.009c-2.775-4.667-4.129-10.477-4.129-17.372v-1h27.383v1c0 2.903.523 5.035 1.457 6.504 1.019 1.416 2.933 2.594 5.961 3.409 3.014.811 7.502 1.234 13.519 1.234 4.197 0 7.704-.24 10.533-.712 2.84-.473 4.933-1.17 6.348-2.041l.007-.004.007-.005c2.99-1.771 4.405-4.179 4.405-7.297 0-2.571-1.048-4.638-3.225-6.271h-.001c-2.049-1.506-5.24-2.339-9.734-2.339h-15.229c-9.999 0-17.677-1.762-22.878-5.441l-.007-.004-.006-.005c-5.182-3.792-7.843-8.671-7.843-14.586 0-3.802.952-7.359 2.853-10.653l.006-.010c1.751-2.955 4.069-5.476 6.943-7.564-5.425-3.145-9.453-6.798-12.013-10.986l-.006-.010c-2.768-4.656-4.128-10.219-4.128-16.647 0-7.310 1.861-13.735 5.612-19.237 3.742-5.489 8.972-9.652 15.649-12.498 6.675-2.967 14.251-4.438 22.707-4.438h.012l.013.001c9.595.240 17.698-.662 24.333-2.675q10.023-3.220 20.451-9.510l1.094-.660zm-45.556 32.3c-4.355 0-7.689 1.362-10.125 4.010l-.216.253c-2.197 2.648-3.345 6.238-3.345 10.873 0 5.029 1.285 8.808 3.727 11.471 2.443 2.665 5.725 4.027 9.959 4.027 4.509 0 7.837-1.322 10.14-3.844 2.311-2.652 3.545-6.604 3.545-12.017 0-5.120-1.193-8.774-3.403-11.148-2.197-2.360-5.56-3.625-10.282-3.625ZM644.684 115.402v76.691h24.657v21.581h-82.498v-21.581h27.195v-55.111h-26.289v-21.58zM626.46 65c5.180 0 9.490 1.650 12.841 4.993l.308.305c3.144 3.172 4.712 7.140 4.712 11.838 0 4.961-1.665 9.097-5.020 12.324-3.355 3.226-7.665 4.812-12.841 4.812s-9.538-1.587-13.008-4.800l-.014-.012-.013-.014c-3.337-3.337-5.007-7.462-5.007-12.310s1.670-8.922 5.020-12.143l.328-.307C617.180 66.552 621.434 65 626.460 65ZM549.660 112.501c5.914 0 11.360.986 16.325 2.972l.721.288-.101.770-5.257 40.249-.114.871h-20.007v-17.533c-4.580 1.113-8.706 3.792-12.380 8.115-3.980 4.682-7.110 10.613-9.371 17.821v26.401h19.037v21.219h-62.374v-21.219h12.691v-56.017h-12.691v-21.037h36.421l.181.772 4.403 18.712c3.345-6.994 7.447-12.354 12.335-16.020 5.517-4.259 12.265-6.364 20.181-6.364ZM409.221 82.767c16.589 0 29.357 5.979 38.152 17.992l.407.558c8.480 11.790 12.661 27.976 12.661 48.444 0 20.559-4.378 36.928-13.248 49.000-8.793 12.013-21.500 17.994-37.972 17.994-16.587 0-29.356-5.916-38.153-17.810l-.003-.004c-8.750-11.955-13.065-28.386-13.065-49.180 0-20.555 4.317-36.864 13.065-48.817l.001-.001c8.913-12.130 21.678-18.176 38.155-18.176Zm0 23.756c-3.331 0-6.148.830-8.497 2.452-2.352 1.624-4.300 4.088-5.814 7.460l-.271.650c-2.759 6.858-4.180 17.712-4.180 32.676 0 15.445 1.514 26.512 4.450 33.325 1.514 3.373 3.463 5.837 5.815 7.461 2.349 1.622 5.166 2.452 8.497 2.453 3.395 0 6.241-.833 8.588-2.453 2.350-1.623 4.269-4.086 5.723-7.460 2.937-6.812 4.450-17.880 4.450-33.326 0-15.444-1.574-26.506-4.626-33.313l-.002-.007-.003-.006c-1.456-3.376-3.361-5.840-5.683-7.463-2.316-1.619-5.116-2.449-8.447-2.449ZM182.598 46.993c76.138 2.675 136.939 62.145 136.939 135.077s-60.801 132.418-136.939 135.074v-86.247c25.956-2.520 46.266-23.376 46.266-48.809 0-25.434-20.330-46.270-46.266-48.807zM137.939 87.678c-25.939 2.549-46.266 23.480-46.266 49.021s20.306 46.491 46.266 49.022v86.642C61.805 269.695 1 209.944 1 136.680S61.805 3.702 137.939 1.034zM180.597 45.974v85.837L139.940 88.367V2.532zM180.597 230.592v85.072l-40.657-43.061v-85.072z"
                            variants={pathVariants}
                        />
                    </motion.svg>
                )}
            </AnimatePresence>
        </div>
    );
};